const express = require("express");
const { Telegraf } = require("telegraf");

const app = express();
const bot = new Telegraf(process.env.BOT_TOKEN);

// Bot commands
bot.start((ctx) => ctx.reply("âœ… Bot is running on Vercel!"));
bot.command("hello", (ctx) => ctx.reply("ðŸ‘‹ Hello from Vercel Telegram Bot!"));

// Webhook setup
app.use(bot.webhookCallback("/secret-path"));
bot.telegram.setWebhook("https://telegram-bot-beta-hazel.vercel.app/secret-path");

// Default route
app.get("/", (req, res) => {
  res.send("Bot is Alive ðŸš€");
});

module.exports = app;